sap.ui.define([],                                                                                                                                                                                                                                              
    function () {                                                                                                                                                                                                                                              
        'use strict';                                                                                                                                                                                                                                          
        return {                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
            onInitSmartFilterBarExtension: function (oEvent) {                                                                                                                                                                                                 
                //Get SmartFilterBar&nbsp;                                                                                                                                                                                                                     
                var oGlobalFilter = oEvent.getSource();                                                                                                                                                                                                        
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                var anoAtual = new Date().getFullYear();                                                                                                                                                                                                       
                var anoUtilizar = new Date().getFullYear();                                                                                                                                                                                                    
                var mesAtual = new Date().getMonth();                                                                                                                                                                                                          
                var mesAnterior = new Date().getMonth() - 1;                                                                                                                                                                                                   
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                if (mesAtual == 1) {                                                                                                                                                                                                                           
                    mesAnterior = 12;                                                                                                                                                                                                                          
                    anoUtilizar = anoUtilizar - 1;                                                                                                                                                                                                             
                }                                                                                                                                                                                                                                              
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                //Create JSON data that contains the Inital value of the filter                                                                                                                                                                                
                var lowValue = new Date(anoUtilizar, mesAnterior, 26);                                                                                                                                                                                         
                var highValue = new Date(anoAtual, mesAtual, 25);                                                                                                                                                                                              
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                var oDefaultFilter = {                                                                                                                                                                                                                         
                    "DtApro": {                                                                                                                                                                                                                                
                        "ranges": [{                                                                                                                                                                                                                           
                            "exclude": false,                                                                                                                                                                                                                  
                            "operation": "BT",                                                                                                                                                                                                                 
                            "keyField": "DtApro",                                                                                                                                                                                                              
                            "value1": lowValue,                                                                                                                                                                                                                
                            "value2": highValue                                                                                                                                                                                                                
                        }]                                                                                                                                                                                                                                     
                    }                                                                                                                                                                                                                                          
                };                                                                                                                                                                                                                                             
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                //Set SmartFilterBar initial values                                                                                                                                                                                                            
                oGlobalFilter.setFilterData(oDefaultFilter);                                                                                                                                                                                                   
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                //In case you want to hide a Filter                                                                                                                                                                                                            
                //oGlobalFilter.determineFilterItemByName("company_code").setVisibleInFilterBar(false);                                                                                                                                                        
            },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                         
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                   
            navegarAPP: function (oEvent) {                                                                                                                                                                                                                    
                /* ===================================================================                                                                                                                                                                         
                    Recupera dados dos campos das linhas selecionadas                                                                                                                                                                                          
                =================================================================== */                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                var filters = this.getView().byId("listReportFilter").getFilterData();                                                                                                                                                                         
                var oItemContrato = filters.Contrato;                                                                                                                                                                                                          
                var oItemTarefa = filters.Tarefa;                                                                                                                                                                                                              
                var oItemUsuario = filters.Usuario;                                                                                                                                                                                                            
                var oItemDtApro = filters.DtApro;                                                                                                                                                                                                              
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                               
                var contrato = [];                                                                                                                                                                                                                             
                var tarefa = [];                                                                                                                                                                                                                               
                var usuario = [];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                              
                //var dtapro = [];&nbsp;                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
                /*var anoAtual = new Date().getFullYear();                                                                                                                                                                                                     
                var anoUtilizar = new Date().getFullYear();                                                                                                                                                                                                    
                var mesAtual = new Date().getMonth();                                                                                                                                                                                                          
                var mesAnterior = new Date().getMonth() - 1;                                                                                                                                                                                                   
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                if (mesAtual == 1) {                                                                                                                                                                                                                           
                    mesAnterior = 12;                                                                                                                                                                                                                          
                    anoUtilizar = anoUtilizar - 1;                                                                                                                                                                                                             
                }                                                                                                                                                                                                                                              
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                //Create JSON data that contains the Inital value of the filter                                                                                                                                                                                
                var lowValue = new Date(anoUtilizar, mesAnterior, 26);                                                                                                                                                                                         
                var highValue = new Date(anoAtual, mesAtual, 25);                                                                                                                                                                                              
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                var DtApropriacao = {                                                                                                                                                                                                                          
                    "DtApropriacao": {                                                                                                                                                                                                                         
                        "ranges": [{                                                                                                                                                                                                                           
                            "exclude": false,                                                                                                                                                                                                                  
                            "operation": "BT",                                                                                                                                                                                                                 
                            "keyField": "DtApropriacao",                                                                                                                                                                                                       
                            "value1": lowValue,                                                                                                                                                                                                                
                            "value2": highValue                                                                                                                                                                                                                
                        }]                                                                                                                                                                                                                                     
                    }                                                                                                                                                                                                                                          
                };*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                           
                                                                                                                                                                                                                                                               
                if(oItemContrato != null && oItemContrato != 'undefined')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                    
                {                                                                                                                                                                                                                                              
                    for (let i = 0; i < oItemContrato.items.length; i++) {                                                                                                                                                                                     
                        contrato[i] = oItemContrato.items[i].key;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                      
                    }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                          
                }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                if(oItemTarefa != null && oItemTarefa != 'undefined')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                            
                {                                                                                                                                                                                                                                              
                    for (let i = 0; i < oItemTarefa.items.length; i++) {                                                                                                                                                                                       
                        tarefa[i] = oItemTarefa.items[i].key;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                          
                    }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                          
                }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                    
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                if(oItemUsuario != null && oItemUsuario != 'undefined')                                                                                                                                                                                        
                {                                                                                                                                                                                                                                              
                    for (let i = 0; i < oItemUsuario.items.length; i++) {                                                                                                                                                                                      
                        usuario[i] = oItemUsuario.items[i].key;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                        
                    }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                              
                }&nbsp;&nbsp;                                                                                                                                                                                                                                  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                               
                /*if(oItemDtApro != null && oItemDtApro != 'undefined')                                                                                                                                                                                        
                {                                                                                                                                                                                                                                              
                    for (let i = 0; i < oItemDtApro.items.length; i++) {                                                                                                                                                                                       
                        dtapro[i] = oItemDtApro.items[i].key;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                          
                    }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                              
                } */&nbsp;&nbsp;                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
                /* ===================================================================                                                                                                                                                                         
                Verifica se usuário tem permissão para navegação                                                                                                                                                                                               
                =================================================================== */                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                sap.ushell.Container.getService("CrossApplicationNavigation").isNavigationSupported([                                                                                                                                                          
                    { target: { shellHash: "TimeSheetConfiguration-display" } }                                                                                                                                                                                
                ]).done(function (aResponse) {                                                                                                                                                                                                                 
                    aResponse.map(function (elem, index) {                                                                                                                                                                                                     
                        if (elem.supported === true) {                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                            /* ===================================================================                                                                                                                                                             
                            Chama outro aplicativo                                                                                                                                                                                                             
                            =================================================================== */                                                                                                                                                             
                            var href_parameters = (sap.ushell && sap.ushell.Container &&                                                                                                                                                                       
                                sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal({                                                                                                                                                
                                    target: { semanticObject: "TimeSheetConfiguration", action: "display" },                                                                                                                                                   
                                    params: {                                                                                                                                                                                                                  
                                        Contrato: contrato,                                                                                                                                                                                                    
                                        Tarefa: tarefa,                                                                                                                                                                                                        
                                        Usuario: usuario                                                                                                                                                                                                       
                                    },                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
                                }));                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
                            sap.m.URLHelper.redirect(href_parameters, false);                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                        }                                                                                                                                                                                                                                      
                        else {                                                                                                                                                                                                                                 
                            alert('Usuário sem permissão para acessar o link');                                                                                                                                                                                
                        }                                                                                                                                                                                                                                      
                    })                                                                                                                                                                                                                                         
                })                                                                                                                                                                                                                                             
                    .fail(function () {                                                                                                                                                                                                                        
                        alert('Falha ao acessar o link');                                                                                                                                                                                                      
                    });                                                                                                                                                                                                                                        
            }                                                                                                                                                                                                                                                  
        };                                                                                                                                                                                                                                                     
    });                                                                                                                                                                                                                                                        